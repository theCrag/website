7 Add areas and crags - 06 Maps and geolocation

<p class="lead">Location! Location! Location!</p>

<p>In addition to routes, descriptions, topos, theCrag also collects and stores map-based information on the location of crags and routes.</p>

<p>This is really useful information for things like:</p>

<ul class="sd-checklist">
  <li>Map-based browsing on the site</li>
  <li>Exporting data to other tools and software like GPS and Google Earth</li>
  <li>Enabling location-based search and services in mobile applications</li>
</ul>

<h2 id="addtracks">How do I add tracks to a map?</h2>

<p>Right now you can't sorry! We previously encouraged editors to add information to Google Maps using MapMaker but Google has since watered down and abandonded this project. Many other climbers have requested we also use OpenStreetMap or other sources. We have on our roadmap to re-think our maps tools which will enable both easier inclusion of third party maps and also the ability to draw some key features such as car parks and walking tracks inside theCrag.</p>
<p>Please add your votes and comments to our todo list here:<br>
<a href="https://github.com/theCrag/website/issues?q=is%3Aopen+maps+sort%3Acomments-desc">Github issues related to maps</a></p>


<h1>How this data is used</h1>

<p>Location data is very useful, and it gets used in different ways across the site. It is also intrinsically linked with the index structure. Some important points to remember if you are locating areas or restructuring are:</p>

<ul class="sd-checklist">
<li>child areas's should always be inside parent areas
<li>sibling areas's shouldn't overlap
<li>avoid having a 'climbing area' and a 'bouldering area' that overlap, just mark each route with the correct type so they can be filtered as needed
<li>try and avoid a child and parent sharing the same shape, it should be clear that a child area is inside the parent
<li>each area should have no more than around 20 children, where possible make sub areas to group clusters together. If in doubt send us an email
<li>area shapes should generally be a little bit bigger than they are in real life, so that if your GPS location is a few meters away from a cliff or boulder then you are still considered to be 'in' that area. 
<li>similar to above, crag or area shapes should be quite generous and include carparks, and encompass walking tracks and other features that would be considered 'in' that area. A parent area's shape doesn't need to 'shrink wrap' all of it's child areas tightly.
</ul>

<div class="alert alert-info">
 A great rule of thumb is: imagine you are standing at a particular location and describing to someone on the phone where you are.
 If you are at the carpark you would probably say "I'm at crag X", or if you are near the descent gully of a cliff you'd say "I'm at the YYY cliff", or if you we're within 10m of a boulder problem you'd say "I'm at problem ZZ". 
</div>


<h1>How to create a boundary</h1>

<p>If a crag or sub-area has no boundary, anyone can create a boundary. (NB. Boundaries for Countries and Regions above the crag level can only be created by system administrators.)</p>

<p>A crag or sub-area that has no boundary will show a map like this:</p>

<div class="sd-image-caption">
  <img src="/static/cids/images/geolocation-article-1.1.0/image1.jpg" width="213" height="159" />
  <p>Area map with no boundary</p>
</div>

<p>To add a boundary, click on the ‘Locate this crag’ link. The instructions at the top of the page are pretty straightforward.</p>

<p>This short video explains how to create a boundary.</p>

<div class="sd-image-caption">
  <iframe title="YouTube video player" class="youtube-player" type="text/html" width="640" height="390" src="http://www.youtube.com/embed/XYZ?rel=0" frameborder="0" allowFullScreen></iframe>
  <p>Creating a boundary</p>
</div>



<h1>How to edit an existing boundary</h1>

<p>If a crag or sub-area already has a boundary, then only the person who created the boundary or other Editors of that crag can alter the boundary.</p>

<p>If you have the necessary permissions to alter an existing boundary, the map will look something like this:</p>

<div class="sd-image-caption">
  <img src="/static/cids/images/geolocation-article-1.1.0/image2.jpg" width="208" height="162" />
  <p>Area map with boundary</p>
</div>

<p>To alter an existing boundary, click on the ‘Edit this location’ link. The process from there is very similar to the one for creating a new boundary.</p>

<p>If the ‘Edit this location’ link does not appear then your account does not currently have the required permissions. You can earn Editor permissions or contact us to request them.</p>



<h1>Tips and tricks</h1>

<ul class="sd-checklist">
  <li><p>Err on the side of larger boundaries. It is better to have a large vague boundary which definitely includes the area, rather than a smaller one which may not actually include the real location.
  <li><p>As a general rule we’ve found it easier to start at the lowest level possible and work back up from there. For example if you’re adding boundaries for a crag that has 3 cliffs each divided into 2 sectors, it is easier to get the boundaries all neat and tidy by starting with the sectors, then the cliffs.</p></li>

  <li><p>That being said, it is not a problem at all if you decide to work in the other direction or if it is not possible for you to get the boundaries exactly right at the lower levels. In the example above it would be fine to add just the crag and cliff boundaries, or even just the crag boundary. Anything is better than nothing as long as it’s reasonably accurate- it will make it easier for others to add and improve.</p></li>

  <li><p>Sometimes as you add boundaries you’ll notice that the existing order of the index doesn’t make sense, or needs restructuring, eg. when the numbers in the map appear to be in an illogical order. To fix this, rows in the table below the map can be ‘dragged and dropped’ into the right order. Saving is automatic, but the numbers on the map don’t update until you hit ‘refresh’. NB Sometimes there will be a good reason for leaving the index ordered in a certain way even if the numbers on the map look a bit odd (eg the index order may follow the path of an access track). It’s fine to just leave these as they are.</p></li>

  <li><p>If you need to add new areas or reparent areas you’ll have to go back to List View and make the changes from there.</p></li>
</ul>


<div class="sd-image-caption">
  <iframe title="YouTube video player" class="youtube-player" type="text/html" width="640" height="390" src="http://www.youtube.com/embed/XYZ?rel=0" frameborder="0" allowFullScreen></iframe>
  <p>Figure 2: Reordering the index</p>
</div>

